{% extends 'base.html' %}

{% block styling %}<link rel="stylesheet" href="/static/allspecimens.css">{% endblock styling %}

{% block title%}{% endblock title %}


{% block content %}

		
<div class="row">

	<!-- Specimens Column -->
		<div class="col-lg-9 my-3">
			<div class="px-3">
				<div class="row mb-2 pt-2">
					<div class="col">
						<h3 class="spec-coll-title">Specimens</h3>
					</div>
					{% if current_user.is_authenticated %}
					<div class="col p-0 text-right">
						<a class="btn btn-primary text-center badge badge-primary" href="/specimen/new/image">Create<br/>Specimen</a>
					</div>
					{% endif %}
				</div>
				<div class="row">
					<div class="card-columns">
					{% for specimen in specimens %}
					<div class="card d-inline-block bg-light rounded px-1 pb-1 mt-1 mb-2">
						<div class="rounded text-center p-1">
							<a class="specimenName" href="/specimen/{{specimen.id}}">
								<p class="lead">{{specimen.taxonomy.common_name}}</p>
								<img class="img-fluid rounded border border-dark" src="{{specimen.link}}" alt="">
							</a>
						</div>  
					</div>
					{% endfor %}
					</div>
				</div>
			</div>
		</div>

		<!-- Collections column -->
		<div class="col-lg-3 my-3">
			<div class="px-3">
					<div class="row mb-1 pt-2">
							<div class="col">
									<h3 class="spec-coll-title">Collections</h3>
							</div>
							{% if current_user.is_authenticated %}
							<div class="col p-0 text-right">
									<a class="btn btn-primary text-center badge badge-primary" href="/collection/new">Create<br/>Collection</a>
							</div>
							{% endif %}
					</div>

					<div class="row">
					{% if collections %}
							{% for collection in collections %}
							<div class="px-4 pb-1 mt-2 mb-3 bg-light rounded">
									<a class="collectionName" href="/collection/{{collection.id}}">
											<p class="lead text-center">{{collection.name}}</p>
											<div class="collectionCollage row">

													{% if not collection.specimens[0] %}
													<p class="text-center text-danger">This collection is empty</p>
													{% endif %}
													
													<div class="col-9 p-1">

															{% if collection.specimens[0] %}
															<img class="img-fluid mainImg rounded" src="{{collection.specimens[0].link}}">
															{% endif %}

													</div>
													<div class="secondaryImgs col-3 p-1">

															{% if collection.specimens[1] %}
															<div class="pb-1">
																	<img class="img-fluid rounded secondaryImg" src="{{collection.specimens[1].link}}">
															</div>                                
															{% endif %}

															{% if collection.specimens[2] %}
															<div>
																	<img class="img-fluid rounded secondaryImg" src="{{collection.specimens[2].link}}">
															</div>                                
															{% endif %}

															{% if collection.specimens[3] %}
															<div class="pt-1">
																	<img class="img-fluid rounded thirdImg" src="{{collection.specimens[3].link}}">
															</div>                                
															{% endif %}

													</div>
											</div>
									</a>
							</div> 
							{% endfor %}
					</div>
					{% else %}
					<h1 class="text-center">No Collections</h1>
					{% endif %}
			</div>
		</div>

	</div>



{% endblock content %}
